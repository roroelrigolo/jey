{% extends '/front/base.html.twig' %}

{% block title %}Jey{% endblock %}

{% block body %}
    <div class="container mx-auto w-3/4 flex gap-x-6 mb-20 py-20">
        {{ component('Front:Nav:NavAccount',{}) }}
        <div class="w-3/4 bg-fullwhite p-8">
            <p class="text-xl text-primary font-bold mb-4">Signalements</p>
            <div id="recipients" class="grid gap-y-4">
                {% for alert in app.user.alertsDepositor|sort((a, b) => b.updatedAt <=> a.updatedAt) %}
                    <div>
                        <p>Signalement du {{ alert.createdAt|date('d/m/Y') }}</p>
                        {% if alert.type == "Annonce" %}
                            <p>Vous avez signaler l'annonce suivante : {{ alert.product.title }}</p>
                        {% elseif alert.type == "Utilisateur" %}
                            <p>Vous avez signaler l'utilisateur suivant : {{ alert.user.pseudo }}</p>
                        {% endif %}
                        <p>Statut : {{ alert.statut }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}

